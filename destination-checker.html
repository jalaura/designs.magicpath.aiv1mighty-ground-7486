<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>IDP Destination Checker — International Drivers Association</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
  * { box-sizing: border-box; margin: 0; padding: 0; }

  .idp-checker {
    font-family: 'Inter', system-ui, -apple-system, sans-serif;
    background: #f8f9fb;
    display: flex;
    justify-content: center;
    align-items: flex-start;
    padding: 40px 20px;
  }

  .idp-card {
    background: #fff;
    border-radius: 12px;
    padding: 28px;
    width: 100%;
    max-width: 480px;
    box-shadow: 0 1px 3px rgba(0,0,0,0.06), 0 8px 24px rgba(0,0,0,0.08);
    border: 1px solid #e5e7eb;
  }

  .idp-card-header {
    display: flex;
    align-items: center;
    gap: 12px;
    margin-bottom: 20px;
    padding-bottom: 16px;
    border-bottom: 1px solid #f0f1f3;
  }
  .idp-card-icon {
    width: 40px; height: 40px;
    background: #eef0ff;
    border-radius: 10px;
    display: flex; align-items: center; justify-content: center;
    flex-shrink: 0;
  }
  .idp-card-icon svg { width: 22px; height: 22px; color: #2B30A3; }
  .idp-card-title {
    font-size: 16px;
    font-weight: 700;
    color: #111827;
    line-height: 1.3;
  }
  .idp-card-subtitle {
    font-size: 12px;
    color: #6b7280;
    margin-top: 2px;
  }

  .idp-field { margin-bottom: 14px; }
  .idp-field-label {
    font-size: 13px;
    font-weight: 600;
    color: #374151;
    margin-bottom: 6px;
    display: flex;
    align-items: center;
    gap: 6px;
  }
  .idp-auto-badge {
    font-size: 10px;
    font-weight: 500;
    color: #2B30A3;
    background: #eef0ff;
    padding: 1px 6px;
    border-radius: 4px;
    opacity: 0;
    transition: opacity 0.3s;
  }
  .idp-auto-badge.visible { opacity: 1; }

  .idp-dropdown-wrapper { position: relative; }
  .idp-dropdown-trigger {
    display: flex;
    align-items: center;
    gap: 10px;
    width: 100%;
    padding: 11px 14px;
    border: 1.5px solid #d1d5db;
    border-radius: 8px;
    background: #fff;
    cursor: pointer;
    font-size: 14px;
    font-weight: 500;
    color: #111827;
    transition: border-color 0.15s, box-shadow 0.15s;
  }
  .idp-dropdown-trigger:hover { border-color: #9ca3af; }
  .idp-dropdown-trigger:focus-within {
    border-color: #2B30A3;
    box-shadow: 0 0 0 3px rgba(43,48,163,0.12);
  }
  .idp-dropdown-trigger img.idp-flag {
    width: 22px; height: 16px;
    object-fit: cover;
    border-radius: 2px;
    border: 1px solid #e5e7eb;
  }
  .idp-dropdown-trigger input {
    border: none; outline: none; flex: 1;
    font-size: 14px; font-weight: 500; color: #111827;
    font-family: inherit; background: transparent;
    min-width: 0;
  }
  .idp-dropdown-trigger input::placeholder { color: #9ca3af; font-weight: 400; }
  .idp-dropdown-trigger .idp-arrow {
    width: 18px; text-align: center;
    color: #6b7280;
    transition: transform 0.2s;
    flex-shrink: 0;
    font-size: 12px;
  }
  .idp-dropdown-trigger .idp-arrow.open { transform: rotate(180deg); }

  .idp-dropdown-list {
    position: absolute;
    top: calc(100% + 4px);
    left: 0; right: 0;
    z-index: 100;
    background: #fff;
    border: 1.5px solid #d1d5db;
    border-radius: 8px;
    max-height: 220px;
    overflow-y: auto;
    display: none;
    box-shadow: 0 8px 24px rgba(0,0,0,0.12);
  }
  .idp-dropdown-list.open { display: block; }
  .idp-dropdown-list::-webkit-scrollbar { width: 6px; }
  .idp-dropdown-list::-webkit-scrollbar-track { background: transparent; }
  .idp-dropdown-list::-webkit-scrollbar-thumb { background: #d1d5db; border-radius: 3px; }

  .idp-dropdown-option {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 9px 14px;
    cursor: pointer;
    font-size: 13px;
    color: #374151;
    transition: background 0.1s;
  }
  .idp-dropdown-option:hover { background: #f3f4f6; }
  .idp-dropdown-option.selected { background: #eef0ff; color: #2B30A3; font-weight: 600; }
  .idp-dropdown-option img.idp-flag {
    width: 20px; height: 15px;
    object-fit: cover;
    border-radius: 2px;
    border: 1px solid #e5e7eb;
  }
  .idp-no-results { padding: 12px 14px; color: #9ca3af; font-size: 13px; }

  /* Result */
  .idp-result-card {
    margin-top: 16px;
    border: 1.5px solid #e5e7eb;
    border-radius: 10px;
    overflow: hidden;
    animation: idpFadeIn 0.25s ease;
  }
  @keyframes idpFadeIn {
    from { opacity: 0; transform: translateY(6px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .idp-result-row {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 12px;
    padding: 11px 14px;
    border-bottom: 1px dashed #e5e7eb;
    font-size: 13px;
    font-weight: 500;
  }
  .idp-result-row:last-child { border-bottom: none; }
  .idp-result-row .idp-rlabel {
    display: flex; align-items: center; gap: 8px;
    color: #6b7280;
  }
  .idp-result-row .idp-rlabel svg { width: 16px; height: 16px; flex-shrink: 0; }
  .idp-result-row .idp-rvalue {
    color: #374151;
    font-size: 13px;
    text-align: right;
    font-weight: 600;
  }

  .idp-badge {
    display: inline-flex;
    align-items: center;
    gap: 5px;
    padding: 4px 10px;
    border-radius: 9999px;
    font-size: 12px;
    font-weight: 600;
    white-space: nowrap;
  }
  .idp-badge svg { width: 14px; height: 14px; }
  .idp-badge.accepted { background: #ecfdf5; color: #065f46; }
  .idp-badge.not-accepted { background: #fef2f2; color: #991b1b; }
  .idp-badge.conditions { background: #fffbeb; color: #92400e; }

  .idp-condition-note {
    padding: 8px 14px;
    font-size: 12px;
    color: #92400e;
    background: #fffbeb;
    border-top: 1px dashed #fcd34d;
    line-height: 1.4;
  }

  .idp-cta-button {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    width: 100%;
    margin-top: 16px;
    padding: 13px;
    background: #2B30A3;
    color: #fff;
    border: none;
    border-radius: 8px;
    font-size: 15px;
    font-weight: 600;
    cursor: pointer;
    text-decoration: none;
    transition: background 0.2s, transform 0.1s;
    font-family: inherit;
  }
  .idp-cta-button:hover { background: #1f2380; }
  .idp-cta-button:active { transform: scale(0.99); }

  .idp-satisfied {
    text-align: center;
    margin-top: 10px;
    font-size: 12px;
    color: #6b7280;
  }
  .idp-satisfied strong { color: #111827; }

  .idp-hidden { display: none !important; }

  /* Mobile */
  @media (max-width: 520px) {
    .idp-checker { padding: 16px 12px; }
    .idp-card { padding: 20px 16px; }
    .idp-card-title { font-size: 15px; }
    .idp-dropdown-trigger { padding: 10px 12px; }
  }
</style>
</head>
<body>

<div class="idp-checker">
  <div class="idp-card">

    <div class="idp-card-header">
      <div class="idp-card-icon">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="12" cy="12" r="10"/>
          <path d="M2 12h20"/>
          <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10A15.3 15.3 0 0 1 12 2z"/>
        </svg>
      </div>
      <div>
        <div class="idp-card-title">IDP Destination Checker</div>
        <div class="idp-card-subtitle">Check eligibility for an International Driving Permit</div>
      </div>
    </div>

    <!-- License Issued -->
    <div class="idp-field">
      <div class="idp-field-label">Where was your license issued? <span class="idp-auto-badge" id="idpAutoBadge">Auto-detected</span></div>
      <div class="idp-dropdown-wrapper" id="idpSourceDropdown">
        <div class="idp-dropdown-trigger" onclick="idpToggle('source')">
          <img class="idp-flag" id="idpSourceFlag" src="" alt="" style="display:none">
          <input type="text" id="idpSourceInput" placeholder="Select your country" oninput="idpFilter('source')" onfocus="idpOpen('source')" autocomplete="off">
          <span class="idp-arrow" id="idpSourceArrow">▾</span>
        </div>
        <div class="idp-dropdown-list" id="idpSourceList"></div>
      </div>
    </div>

    <!-- Destination -->
    <div class="idp-field">
      <div class="idp-field-label">Where are you traveling to?</div>
      <div class="idp-dropdown-wrapper" id="idpDestDropdown">
        <div class="idp-dropdown-trigger" onclick="idpToggle('dest')">
          <img class="idp-flag" id="idpDestFlag" src="" alt="" style="display:none">
          <input type="text" id="idpDestInput" placeholder="Select destination country" oninput="idpFilter('dest')" onfocus="idpOpen('dest')" autocomplete="off">
          <span class="idp-arrow" id="idpDestArrow">▾</span>
        </div>
        <div class="idp-dropdown-list" id="idpDestList"></div>
      </div>
    </div>

    <!-- Result -->
    <div id="idpResultCard" class="idp-result-card" style="display:none;">
      <div class="idp-result-row">
        <div class="idp-rlabel">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="M2 12h20"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10A15.3 15.3 0 0 1 12 2z"/></svg>
          <span id="idpResultLabel">IDP Status</span>
        </div>
        <div class="idp-rvalue"><span class="idp-badge" id="idpStatusBadge"></span></div>
      </div>
      <div class="idp-result-row" id="idpValidityRow">
        <div class="idp-rlabel">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
          Validity
        </div>
        <div class="idp-rvalue" id="idpValidityValue"></div>
      </div>
      <div class="idp-result-row" id="idpPriceRow">
        <div class="idp-rlabel">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="1" x2="12" y2="23"/><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/></svg>
          Price
        </div>
        <div class="idp-rvalue" id="idpPriceValue">Starts at $49</div>
      </div>
      <div id="idpConditionNote" class="idp-condition-note" style="display:none;"></div>
    </div>

    <a class="idp-cta-button" id="idpCtaButton" href="#" style="display:none;" target="_blank" rel="noopener">
      Apply Now — Get Your IDP →
    </a>
    <p class="idp-satisfied" id="idpSatisfiedText" style="display:none;">Trusted by <strong>800,000+</strong> drivers worldwide</p>

  </div>
</div>

<script>
// ===== COUNTRY DATA (254 entries) =====
const idpCountries = {
  "AF": { code: "AF", name: "Afghanistan", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "AL": { code: "AL", name: "Albania", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "DZ": { code: "DZ", name: "Algeria", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "AD": { code: "AD", name: "Andorra", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "AO": { code: "AO", name: "Angola", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "AG": { code: "AG", name: "Antigua and Barbuda", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "AR": { code: "AR", name: "Argentina", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "AM": { code: "AM", name: "Armenia", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "AU": { code: "AU", name: "Australia", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "AT": { code: "AT", name: "Austria", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "AZ": { code: "AZ", name: "Azerbaijan", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "BS": { code: "BS", name: "Bahamas", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "BH": { code: "BH", name: "Bahrain", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "BD": { code: "BD", name: "Bangladesh", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "BB": { code: "BB", name: "Barbados", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "BY": { code: "BY", name: "Belarus", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "BE": { code: "BE", name: "Belgium", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "BZ": { code: "BZ", name: "Belize", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "BJ": { code: "BJ", name: "Benin", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "BT": { code: "BT", name: "Bhutan", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "BO": { code: "BO", name: "Bolivia", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "BA": { code: "BA", name: "Bosnia and Herzegovina", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "BW": { code: "BW", name: "Botswana", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "BR": { code: "BR", name: "Brazil", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "BN": { code: "BN", name: "Brunei", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "BG": { code: "BG", name: "Bulgaria", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "BF": { code: "BF", name: "Burkina Faso", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "BI": { code: "BI", name: "Burundi", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "KH": { code: "KH", name: "Cambodia", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "CM": { code: "CM", name: "Cameroon", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "CA": { code: "CA", name: "Canada", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "CV": { code: "CV", name: "Cape Verde", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "CF": { code: "CF", name: "Central African Republic", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "TD": { code: "TD", name: "Chad", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "CL": { code: "CL", name: "Chile", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "CN": { code: "CN", name: "China", from_: "no", in_: "no", digital_copy: false, validity: 0, condition_using: "", recommended_license: 42 },
  "CO": { code: "CO", name: "Colombia", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "KM": { code: "KM", name: "Comoros", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "CG": { code: "CG", name: "Congo", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "CD": { code: "CD", name: "Democratic Republic of the Congo", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "CR": { code: "CR", name: "Costa Rica", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "HR": { code: "HR", name: "Croatia", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "CU": { code: "CU", name: "Cuba", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "CY": { code: "CY", name: "Cyprus", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "CZ": { code: "CZ", name: "Czech Republic", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "DK": { code: "DK", name: "Denmark", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "DJ": { code: "DJ", name: "Djibouti", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "DM": { code: "DM", name: "Dominica", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "DO": { code: "DO", name: "Dominican Republic", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "EC": { code: "EC", name: "Ecuador", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "EG": { code: "EG", name: "Egypt", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "SV": { code: "SV", name: "El Salvador", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "GQ": { code: "GQ", name: "Equatorial Guinea", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "ER": { code: "ER", name: "Eritrea", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "EE": { code: "EE", name: "Estonia", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "SZ": { code: "SZ", name: "Eswatini", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "ET": { code: "ET", name: "Ethiopia", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "FJ": { code: "FJ", name: "Fiji", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "FI": { code: "FI", name: "Finland", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "FR": { code: "FR", name: "France", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "GA": { code: "GA", name: "Gabon", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "GM": { code: "GM", name: "Gambia", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "GE": { code: "GE", name: "Georgia", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "DE": { code: "DE", name: "Germany", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "GH": { code: "GH", name: "Ghana", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "GR": { code: "GR", name: "Greece", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "GD": { code: "GD", name: "Grenada", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "GT": { code: "GT", name: "Guatemala", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "GN": { code: "GN", name: "Guinea", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "GW": { code: "GW", name: "Guinea-Bissau", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "GY": { code: "GY", name: "Guyana", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "HT": { code: "HT", name: "Haiti", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "HN": { code: "HN", name: "Honduras", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "HK": { code: "HK", name: "Hong Kong", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "HU": { code: "HU", name: "Hungary", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "IS": { code: "IS", name: "Iceland", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "IN": { code: "IN", name: "India", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "ID": { code: "ID", name: "Indonesia", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "IR": { code: "IR", name: "Iran", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "IQ": { code: "IQ", name: "Iraq", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "IE": { code: "IE", name: "Ireland", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "IL": { code: "IL", name: "Israel", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "IT": { code: "IT", name: "Italy", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "CI": { code: "CI", name: "Ivory Coast", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "JM": { code: "JM", name: "Jamaica", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "JP": { code: "JP", name: "Japan", from_: "no", in_: "no", digital_copy: false, validity: 0, condition_using: "", recommended_license: 42 },
  "JO": { code: "JO", name: "Jordan", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "KZ": { code: "KZ", name: "Kazakhstan", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "KE": { code: "KE", name: "Kenya", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "KI": { code: "KI", name: "Kiribati", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "KP": { code: "KP", name: "North Korea", from_: "no", in_: "no", digital_copy: false, validity: 0, condition_using: "", recommended_license: 42 },
  "KR": { code: "KR", name: "South Korea", from_: "yes", in_: "no", digital_copy: false, validity: 0, condition_using: "", recommended_license: 42 },
  "KW": { code: "KW", name: "Kuwait", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "KG": { code: "KG", name: "Kyrgyzstan", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "LA": { code: "LA", name: "Laos", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "LV": { code: "LV", name: "Latvia", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "LB": { code: "LB", name: "Lebanon", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "LS": { code: "LS", name: "Lesotho", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "LR": { code: "LR", name: "Liberia", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "LY": { code: "LY", name: "Libya", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "LI": { code: "LI", name: "Liechtenstein", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "LT": { code: "LT", name: "Lithuania", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "LU": { code: "LU", name: "Luxembourg", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "MO": { code: "MO", name: "Macau", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "MK": { code: "MK", name: "North Macedonia", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "MG": { code: "MG", name: "Madagascar", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "MW": { code: "MW", name: "Malawi", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "MY": { code: "MY", name: "Malaysia", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "MV": { code: "MV", name: "Maldives", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "ML": { code: "ML", name: "Mali", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "MT": { code: "MT", name: "Malta", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "MH": { code: "MH", name: "Marshall Islands", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "MR": { code: "MR", name: "Mauritania", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "MU": { code: "MU", name: "Mauritius", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "MX": { code: "MX", name: "Mexico", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "FM": { code: "FM", name: "Micronesia", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "MD": { code: "MD", name: "Moldova", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "MC": { code: "MC", name: "Monaco", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "MN": { code: "MN", name: "Mongolia", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "ME": { code: "ME", name: "Montenegro", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "MA": { code: "MA", name: "Morocco", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "MZ": { code: "MZ", name: "Mozambique", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "MM": { code: "MM", name: "Myanmar", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "NA": { code: "NA", name: "Namibia", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "NR": { code: "NR", name: "Nauru", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "NP": { code: "NP", name: "Nepal", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "NL": { code: "NL", name: "Netherlands", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "NZ": { code: "NZ", name: "New Zealand", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "NI": { code: "NI", name: "Nicaragua", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "NE": { code: "NE", name: "Niger", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "NG": { code: "NG", name: "Nigeria", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "NO": { code: "NO", name: "Norway", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "OM": { code: "OM", name: "Oman", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "PK": { code: "PK", name: "Pakistan", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "PW": { code: "PW", name: "Palau", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "PS": { code: "PS", name: "Palestine", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "PA": { code: "PA", name: "Panama", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "PG": { code: "PG", name: "Papua New Guinea", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "PY": { code: "PY", name: "Paraguay", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "PE": { code: "PE", name: "Peru", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "PH": { code: "PH", name: "Philippines", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "PL": { code: "PL", name: "Poland", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "PT": { code: "PT", name: "Portugal", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "PR": { code: "PR", name: "Puerto Rico", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "QA": { code: "QA", name: "Qatar", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "RO": { code: "RO", name: "Romania", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "RU": { code: "RU", name: "Russia", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "RW": { code: "RW", name: "Rwanda", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "KN": { code: "KN", name: "Saint Kitts and Nevis", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "LC": { code: "LC", name: "Saint Lucia", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "VC": { code: "VC", name: "Saint Vincent and the Grenadines", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "WS": { code: "WS", name: "Samoa", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "SM": { code: "SM", name: "San Marino", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "ST": { code: "ST", name: "Sao Tome and Principe", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "SA": { code: "SA", name: "Saudi Arabia", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "SN": { code: "SN", name: "Senegal", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "RS": { code: "RS", name: "Serbia", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "SC": { code: "SC", name: "Seychelles", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "SL": { code: "SL", name: "Sierra Leone", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "SG": { code: "SG", name: "Singapore", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "SK": { code: "SK", name: "Slovakia", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "SI": { code: "SI", name: "Slovenia", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "SB": { code: "SB", name: "Solomon Islands", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "SO": { code: "SO", name: "Somalia", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "ZA": { code: "ZA", name: "South Africa", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "SS": { code: "SS", name: "South Sudan", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "ES": { code: "ES", name: "Spain", from_: "yes", in_: "yes_with_conditions", digital_copy: false, validity: 1, condition_using: "Only Printed IDP in 1 Year Validity Plan is accepted.", recommended_license: 40 },
  "LK": { code: "LK", name: "Sri Lanka", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "SD": { code: "SD", name: "Sudan", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "SR": { code: "SR", name: "Suriname", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "SE": { code: "SE", name: "Sweden", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "CH": { code: "CH", name: "Switzerland", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "SY": { code: "SY", name: "Syria", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "TW": { code: "TW", name: "Taiwan", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "TJ": { code: "TJ", name: "Tajikistan", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "TZ": { code: "TZ", name: "Tanzania", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "TH": { code: "TH", name: "Thailand", from_: "yes", in_: "yes_with_conditions", digital_copy: false, validity: 1, condition_using: "Unfortunately, our IDP is currently not recommended for use in Thailand.", recommended_license: 40 },
  "TL": { code: "TL", name: "Timor-Leste", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "TG": { code: "TG", name: "Togo", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "TO": { code: "TO", name: "Tonga", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "TT": { code: "TT", name: "Trinidad and Tobago", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "TN": { code: "TN", name: "Tunisia", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "TR": { code: "TR", name: "Turkey", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "TM": { code: "TM", name: "Turkmenistan", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "TV": { code: "TV", name: "Tuvalu", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "UG": { code: "UG", name: "Uganda", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "UA": { code: "UA", name: "Ukraine", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "AE": { code: "AE", name: "United Arab Emirates", from_: "yes", in_: "yes_with_conditions", digital_copy: false, validity: 1, condition_using: "Printed IDP Only. Digital is not accepted in UAE.", recommended_license: 40 },
  "GB": { code: "GB", name: "United Kingdom", from_: "yes_with_conditions", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "US": { code: "US", name: "United States", from_: "yes_with_conditions", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "UY": { code: "UY", name: "Uruguay", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "UZ": { code: "UZ", name: "Uzbekistan", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "VU": { code: "VU", name: "Vanuatu", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "VA": { code: "VA", name: "Vatican City", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "VE": { code: "VE", name: "Venezuela", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "VN": { code: "VN", name: "Vietnam", from_: "yes", in_: "yes_with_conditions", digital_copy: false, validity: 1, condition_using: "Printed IDP Only. Please check local requirements.", recommended_license: 40 },
  "YE": { code: "YE", name: "Yemen", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "ZM": { code: "ZM", name: "Zambia", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "ZW": { code: "ZW", name: "Zimbabwe", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "AI": { code: "AI", name: "Anguilla", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "AW": { code: "AW", name: "Aruba", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "BM": { code: "BM", name: "Bermuda", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "VG": { code: "VG", name: "British Virgin Islands", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "KY": { code: "KY", name: "Cayman Islands", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "CW": { code: "CW", name: "Curacao", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "GF": { code: "GF", name: "French Guiana", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "PF": { code: "PF", name: "French Polynesia", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "GI": { code: "GI", name: "Gibraltar", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "GL": { code: "GL", name: "Greenland", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "GP": { code: "GP", name: "Guadeloupe", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "GU": { code: "GU", name: "Guam", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "GG": { code: "GG", name: "Guernsey", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "IM": { code: "IM", name: "Isle of Man", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "JE": { code: "JE", name: "Jersey", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "MQ": { code: "MQ", name: "Martinique", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "YT": { code: "YT", name: "Mayotte", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "MS": { code: "MS", name: "Montserrat", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "NC": { code: "NC", name: "New Caledonia", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "MP": { code: "MP", name: "Northern Mariana Islands", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "RE": { code: "RE", name: "Reunion", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "BL": { code: "BL", name: "Saint Barthelemy", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "SH": { code: "SH", name: "Saint Helena", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "MF": { code: "MF", name: "Saint Martin", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "PM": { code: "PM", name: "Saint Pierre and Miquelon", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "SX": { code: "SX", name: "Sint Maarten", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "TC": { code: "TC", name: "Turks and Caicos Islands", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "VI": { code: "VI", name: "U.S. Virgin Islands", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "AS": { code: "AS", name: "American Samoa", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "FK": { code: "FK", name: "Falkland Islands", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "WF": { code: "WF", name: "Wallis and Futuna", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "CX": { code: "CX", name: "Christmas Island", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "CC": { code: "CC", name: "Cocos Islands", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "NF": { code: "NF", name: "Norfolk Island", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "BQ": { code: "BQ", name: "Bonaire, Sint Eustatius and Saba", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "EH": { code: "EH", name: "Western Sahara", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "AX": { code: "AX", name: "Aland Islands", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "TK": { code: "TK", name: "Tokelau", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "NU": { code: "NU", name: "Niue", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 },
  "PN": { code: "PN", name: "Pitcairn Islands", from_: "yes", in_: "yes", digital_copy: true, validity: 3, condition_using: "", recommended_license: 42 }
};

// ===== SORTED LIST =====
const idpCountryList = Object.values(idpCountries).sort((a, b) => a.name.localeCompare(b.name));

// ===== STATE =====
let idpSelectedSource = null;
let idpSelectedDest = null;

// ===== CHECKOUT URL =====
const IDP_CHECKOUT_URL = "https://idpcheckout.fillout.com/t/2ESX5foenCus?source=header_button&_gl=1*1rrofuz*_gcl_au*OTA2NTQyNTAyLjE3Njk2NzI5NjY.";

// ===== HELPERS =====
function idpFlagUrl(code) {
  return `https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/4.1.4/flags/4x3/${code.toLowerCase()}.svg`;
}

function idpRenderOptions(listId, filtered, type) {
  const list = document.getElementById(listId);
  list.innerHTML = '';
  if (filtered.length === 0) {
    list.innerHTML = '<div class="idp-no-results">No countries found</div>';
    return;
  }
  const selected = type === 'source' ? idpSelectedSource : idpSelectedDest;
  filtered.forEach(c => {
    const opt = document.createElement('div');
    opt.className = 'idp-dropdown-option' + (selected && selected.code === c.code ? ' selected' : '');
    opt.innerHTML = `<img class="idp-flag" src="${idpFlagUrl(c.code)}" alt="${c.code}" onerror="this.style.display='none'"> ${c.name}`;
    opt.addEventListener('click', (e) => { e.stopPropagation(); idpSelect(type, c); });
    list.appendChild(opt);
  });
}

function idpToggle(type) {
  const listId = type === 'source' ? 'idpSourceList' : 'idpDestList';
  const list = document.getElementById(listId);
  if (list.classList.contains('open')) { idpClose(type); } else { idpOpen(type); }
}

function idpOpen(type) {
  // Close the other dropdown first
  idpClose(type === 'source' ? 'dest' : 'source');
  const listId = type === 'source' ? 'idpSourceList' : 'idpDestList';
  const arrow = document.getElementById(type === 'source' ? 'idpSourceArrow' : 'idpDestArrow');
  const input = document.getElementById(type === 'source' ? 'idpSourceInput' : 'idpDestInput');
  idpRenderOptions(listId, idpCountryList, type);
  document.getElementById(listId).classList.add('open');
  arrow.classList.add('open');
  // Clear input for searching if country already selected
  if ((type === 'source' && idpSelectedSource) || (type === 'dest' && idpSelectedDest)) {
    input.dataset.prev = input.value;
    input.value = '';
  }
}

function idpClose(type) {
  const listId = type === 'source' ? 'idpSourceList' : 'idpDestList';
  const arrow = document.getElementById(type === 'source' ? 'idpSourceArrow' : 'idpDestArrow');
  const input = document.getElementById(type === 'source' ? 'idpSourceInput' : 'idpDestInput');
  document.getElementById(listId).classList.remove('open');
  arrow.classList.remove('open');
  // Restore selected country name if user didn't pick a new one
  if (input.dataset.prev && input.value === '') {
    input.value = input.dataset.prev;
    delete input.dataset.prev;
  }
}

function idpFilter(type) {
  const input = document.getElementById(type === 'source' ? 'idpSourceInput' : 'idpDestInput');
  const listId = type === 'source' ? 'idpSourceList' : 'idpDestList';
  const query = input.value.toLowerCase();
  const filtered = idpCountryList.filter(c => c.name.toLowerCase().includes(query));
  idpRenderOptions(listId, filtered, type);
  document.getElementById(listId).classList.add('open');
}

function idpSelect(type, country) {
  const input = document.getElementById(type === 'source' ? 'idpSourceInput' : 'idpDestInput');
  const flag = document.getElementById(type === 'source' ? 'idpSourceFlag' : 'idpDestFlag');
  delete input.dataset.prev;
  input.value = country.name;
  flag.src = idpFlagUrl(country.code);
  flag.style.display = 'inline-block';
  flag.onerror = function() { this.style.display = 'none'; };

  if (type === 'source') {
    idpSelectedSource = country;
    // Hide auto-detected badge when user manually selects
    const autoBadge = document.getElementById('idpAutoBadge');
    if (autoBadge) autoBadge.classList.remove('visible');
  } else {
    idpSelectedDest = country;
  }

  idpClose(type);
  idpUpdateResult();
}

// ===== RESULT =====
function idpUpdateResult() {
  const card = document.getElementById('idpResultCard');
  const validityRow = document.getElementById('idpValidityRow');
  const priceRow = document.getElementById('idpPriceRow');
  const ctaBtn = document.getElementById('idpCtaButton');
  const satText = document.getElementById('idpSatisfiedText');
  const condNote = document.getElementById('idpConditionNote');

  if (!idpSelectedDest) {
    card.style.display = 'none';
    ctaBtn.style.display = 'none';
    satText.style.display = 'none';
    return;
  }

  card.style.display = 'block';
  ctaBtn.style.display = 'flex';
  satText.style.display = 'block';

  const dest = idpSelectedDest;
  document.getElementById('idpResultLabel').textContent = `IDP for ${dest.name}`;

  const badge = document.getElementById('idpStatusBadge');

  if (dest.in_ === 'yes') {
    badge.className = 'idp-badge accepted';
    badge.innerHTML = `<svg viewBox="0 0 16 16" fill="currentColor"><path fill-rule="evenodd" d="M8 16A8 8 0 108 0a8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L7 8.586 5.707 7.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"/></svg> Accepted`;
    const format = dest.digital_copy ? 'Printed + Digital IDP' : 'Printed IDP';
    const duration = dest.validity === 3 ? '1–3 years' : dest.validity === 1 ? '1 year' : '';
    document.getElementById('idpValidityValue').textContent = `${format}, ${duration}`;
    validityRow.style.display = 'flex';
    priceRow.style.display = 'flex';
    condNote.style.display = 'none';

  } else if (dest.in_ === 'yes_with_conditions') {
    badge.className = 'idp-badge conditions';
    badge.innerHTML = `<svg viewBox="0 0 16 16" fill="currentColor"><path fill-rule="evenodd" d="M8 16A8 8 0 108 0a8 8 0 000 16zm.93-9.412l-.562 3.378c-.022.132.058.195.152.195.068 0 .169-.028.25-.092l-.034.198c-.13.12-.344.21-.554.21-.336 0-.488-.2-.416-.57l.562-3.378c.022-.132-.058-.195-.152-.195-.068 0-.169.028-.25.092l.034-.198c.13-.12.344-.21.554-.21.336 0 .488.2.416.57zM8 5.5a.75.75 0 100-1.5.75.75 0 000 1.5z"/></svg> Accepted with conditions`;
    const format = dest.digital_copy ? 'Printed + Digital IDP' : 'Printed IDP Only';
    const duration = dest.validity === 3 ? '1–3 years' : dest.validity === 1 ? '1 year' : '';
    document.getElementById('idpValidityValue').textContent = `${format}, ${duration}`;
    validityRow.style.display = 'flex';
    priceRow.style.display = 'flex';
    if (dest.condition_using) {
      condNote.textContent = dest.condition_using;
      condNote.style.display = 'block';
    } else {
      condNote.style.display = 'none';
    }

  } else {
    badge.className = 'idp-badge not-accepted';
    badge.innerHTML = `<svg viewBox="0 0 16 16" fill="currentColor"><path fill-rule="evenodd" d="M8 16A8 8 0 108 0a8 8 0 000 16zM5.354 5.354a.5.5 0 01.707 0L8 7.293l1.939-1.94a.5.5 0 01.707.708L8.707 8l1.94 1.939a.5.5 0 01-.708.707L8 8.707l-1.939 1.94a.5.5 0 01-.707-.708L7.293 8 5.354 6.061a.5.5 0 010-.707z"/></svg> Not accepted`;
    validityRow.style.display = 'none';
    priceRow.style.display = 'none';
    condNote.style.display = 'none';
  }

  // CTA link
  ctaBtn.href = IDP_CHECKOUT_URL;
}

// ===== CLOSE ON OUTSIDE CLICK =====
document.addEventListener('click', (e) => {
  if (!document.getElementById('idpSourceDropdown').contains(e.target)) idpClose('source');
  if (!document.getElementById('idpDestDropdown').contains(e.target)) idpClose('dest');
});

// ===== KEYBOARD SUPPORT =====
document.addEventListener('keydown', (e) => {
  if (e.key === 'Escape') {
    idpClose('source');
    idpClose('dest');
  }
});

// ===== AUTO-DETECT USER COUNTRY =====
// Uses multiple strategies in order of reliability:
// 1. IP-based geolocation via free API (most accurate)
// 2. Browser timezone → country mapping (no network, instant)
// 3. Browser language/locale hint (fallback)

function idpAutoDetectCountry() {
  // Don't override if user already selected
  if (idpSelectedSource) return;

  // Strategy 1: IP geolocation (primary)
  idpDetectViaIP()
    .then(code => {
      if (code && idpCountries[code] && !idpSelectedSource) {
        idpSetSourceCountry(code);
      }
    })
    .catch(() => {
      // Strategy 2 & 3: Local fallbacks (no network needed)
      if (!idpSelectedSource) {
        const code = idpDetectViaTimezone() || idpDetectViaLanguage();
        if (code && idpCountries[code]) {
          idpSetSourceCountry(code);
        }
      }
    });

  // Also try local fallbacks immediately (instant, before API returns)
  // The IP result will override if it arrives and differs
  setTimeout(() => {
    if (!idpSelectedSource) {
      const code = idpDetectViaTimezone() || idpDetectViaLanguage();
      if (code && idpCountries[code]) {
        idpSetSourceCountry(code);
      }
    }
  }, 100);
}

// IP-based detection using free APIs (tries multiple for reliability)
async function idpDetectViaIP() {
  const apis = [
    { url: 'https://ipapi.co/json/', extract: (d) => d.country_code },
    { url: 'https://ip-api.com/json/?fields=countryCode', extract: (d) => d.countryCode },
    { url: 'https://ipwho.is/', extract: (d) => d.country_code }
  ];

  for (const api of apis) {
    try {
      const controller = new AbortController();
      const timeout = setTimeout(() => controller.abort(), 3000);
      const res = await fetch(api.url, { signal: controller.signal });
      clearTimeout(timeout);
      if (res.ok) {
        const data = await res.json();
        const code = api.extract(data);
        if (code && code.length === 2) return code.toUpperCase();
      }
    } catch (e) { /* try next API */ }
  }
  throw new Error('All IP APIs failed');
}

// Timezone → country mapping (covers major timezones)
function idpDetectViaTimezone() {
  try {
    const tz = Intl.DateTimeFormat().resolvedOptions().timeZone;
    if (!tz) return null;

    const tzToCountry = {
      // Americas
      'America/New_York': 'US', 'America/Chicago': 'US', 'America/Denver': 'US',
      'America/Los_Angeles': 'US', 'America/Anchorage': 'US', 'Pacific/Honolulu': 'US',
      'America/Phoenix': 'US', 'America/Detroit': 'US', 'America/Indiana': 'US',
      'America/Boise': 'US', 'America/Juneau': 'US', 'America/Adak': 'US',
      'America/Toronto': 'CA', 'America/Vancouver': 'CA', 'America/Edmonton': 'CA',
      'America/Winnipeg': 'CA', 'America/Halifax': 'CA', 'America/St_Johns': 'CA',
      'America/Regina': 'CA', 'America/Montreal': 'CA',
      'America/Mexico_City': 'MX', 'America/Cancun': 'MX', 'America/Tijuana': 'MX',
      'America/Monterrey': 'MX', 'America/Merida': 'MX',
      'America/Sao_Paulo': 'BR', 'America/Fortaleza': 'BR', 'America/Manaus': 'BR',
      'America/Recife': 'BR', 'America/Bahia': 'BR',
      'America/Argentina/Buenos_Aires': 'AR', 'America/Buenos_Aires': 'AR',
      'America/Bogota': 'CO', 'America/Lima': 'PE', 'America/Santiago': 'CL',
      'America/Caracas': 'VE', 'America/Guayaquil': 'EC', 'America/La_Paz': 'BO',
      'America/Asuncion': 'PY', 'America/Montevideo': 'UY', 'America/Paramaribo': 'SR',
      'America/Guatemala': 'GT', 'America/Tegucigalpa': 'HN',
      'America/El_Salvador': 'SV', 'America/Managua': 'NI',
      'America/Costa_Rica': 'CR', 'America/Panama': 'PA',
      'America/Havana': 'CU', 'America/Port-au-Prince': 'HT',
      'America/Santo_Domingo': 'DO', 'America/Jamaica': 'JM',
      'America/Puerto_Rico': 'PR', 'America/Port_of_Spain': 'TT',
      // Europe
      'Europe/London': 'GB', 'Europe/Dublin': 'IE',
      'Europe/Paris': 'FR', 'Europe/Berlin': 'DE', 'Europe/Madrid': 'ES',
      'Europe/Rome': 'IT', 'Europe/Amsterdam': 'NL', 'Europe/Brussels': 'BE',
      'Europe/Zurich': 'CH', 'Europe/Vienna': 'AT', 'Europe/Lisbon': 'PT',
      'Europe/Stockholm': 'SE', 'Europe/Oslo': 'NO', 'Europe/Copenhagen': 'DK',
      'Europe/Helsinki': 'FI', 'Europe/Warsaw': 'PL', 'Europe/Prague': 'CZ',
      'Europe/Budapest': 'HU', 'Europe/Bucharest': 'RO', 'Europe/Sofia': 'BG',
      'Europe/Athens': 'GR', 'Europe/Istanbul': 'TR', 'Europe/Moscow': 'RU',
      'Europe/Kiev': 'UA', 'Europe/Kyiv': 'UA',
      'Europe/Belgrade': 'RS', 'Europe/Zagreb': 'HR', 'Europe/Ljubljana': 'SI',
      'Europe/Bratislava': 'SK', 'Europe/Vilnius': 'LT', 'Europe/Riga': 'LV',
      'Europe/Tallinn': 'EE', 'Europe/Luxembourg': 'LU', 'Europe/Malta': 'MT',
      'Europe/Monaco': 'MC', 'Europe/Andorra': 'AD', 'Europe/Sarajevo': 'BA',
      'Europe/Podgorica': 'ME', 'Europe/Skopje': 'MK', 'Europe/Tirane': 'AL',
      'Europe/Minsk': 'BY', 'Europe/Chisinau': 'MD', 'Atlantic/Reykjavik': 'IS',
      // Asia
      'Asia/Tokyo': 'JP', 'Asia/Shanghai': 'CN', 'Asia/Hong_Kong': 'HK',
      'Asia/Seoul': 'KR', 'Asia/Taipei': 'TW',
      'Asia/Singapore': 'SG', 'Asia/Kuala_Lumpur': 'MY', 'Asia/Bangkok': 'TH',
      'Asia/Jakarta': 'ID', 'Asia/Manila': 'PH', 'Asia/Ho_Chi_Minh': 'VN',
      'Asia/Saigon': 'VN', 'Asia/Phnom_Penh': 'KH', 'Asia/Vientiane': 'LA',
      'Asia/Yangon': 'MM', 'Asia/Rangoon': 'MM', 'Asia/Colombo': 'LK',
      'Asia/Kolkata': 'IN', 'Asia/Calcutta': 'IN', 'Asia/Mumbai': 'IN',
      'Asia/Dhaka': 'BD', 'Asia/Kathmandu': 'NP', 'Asia/Karachi': 'PK',
      'Asia/Tashkent': 'UZ', 'Asia/Almaty': 'KZ', 'Asia/Bishkek': 'KG',
      'Asia/Dushanbe': 'TJ', 'Asia/Ashgabat': 'TM', 'Asia/Tbilisi': 'GE',
      'Asia/Yerevan': 'AM', 'Asia/Baku': 'AZ', 'Asia/Ulaanbaatar': 'MN',
      'Asia/Dubai': 'AE', 'Asia/Muscat': 'OM', 'Asia/Qatar': 'QA',
      'Asia/Bahrain': 'BH', 'Asia/Kuwait': 'KW', 'Asia/Riyadh': 'SA',
      'Asia/Amman': 'JO', 'Asia/Beirut': 'LB', 'Asia/Damascus': 'SY',
      'Asia/Baghdad': 'IQ', 'Asia/Tehran': 'IR', 'Asia/Jerusalem': 'IL',
      'Asia/Brunei': 'BN', 'Asia/Macau': 'MO',
      // Oceania
      'Australia/Sydney': 'AU', 'Australia/Melbourne': 'AU', 'Australia/Brisbane': 'AU',
      'Australia/Perth': 'AU', 'Australia/Adelaide': 'AU', 'Australia/Hobart': 'AU',
      'Australia/Darwin': 'AU', 'Australia/Canberra': 'AU',
      'Pacific/Auckland': 'NZ', 'Pacific/Fiji': 'FJ', 'Pacific/Tongatapu': 'TO',
      'Pacific/Apia': 'WS', 'Pacific/Port_Moresby': 'PG', 'Pacific/Guam': 'GU',
      // Africa
      'Africa/Cairo': 'EG', 'Africa/Johannesburg': 'ZA', 'Africa/Lagos': 'NG',
      'Africa/Nairobi': 'KE', 'Africa/Casablanca': 'MA', 'Africa/Algiers': 'DZ',
      'Africa/Tunis': 'TN', 'Africa/Accra': 'GH', 'Africa/Addis_Ababa': 'ET',
      'Africa/Dar_es_Salaam': 'TZ', 'Africa/Kampala': 'UG', 'Africa/Khartoum': 'SD',
      'Africa/Kinshasa': 'CD', 'Africa/Luanda': 'AO', 'Africa/Maputo': 'MZ',
      'Africa/Dakar': 'SN', 'Africa/Abidjan': 'CI', 'Africa/Tripoli': 'LY',
      'Africa/Harare': 'ZW', 'Africa/Lusaka': 'ZM', 'Africa/Windhoek': 'NA',
      'Africa/Douala': 'CM', 'Africa/Libreville': 'GA', 'Africa/Bamako': 'ML',
      'Africa/Conakry': 'GN', 'Africa/Freetown': 'SL', 'Africa/Monrovia': 'LR',
      'Africa/Nouakchott': 'MR', 'Africa/Niamey': 'NE', 'Africa/Ouagadougou': 'BF',
      'Africa/Porto-Novo': 'BJ', 'Africa/Bangui': 'CF', 'Africa/Ndjamena': 'TD',
      'Africa/Bujumbura': 'BI', 'Africa/Kigali': 'RW', 'Africa/Mogadishu': 'SO',
      'Africa/Djibouti': 'DJ', 'Africa/Asmara': 'ER',
      // Middle East
      'Asia/Aden': 'YE',
    };

    // Direct match
    if (tzToCountry[tz]) return tzToCountry[tz];

    // Try matching by region prefix (e.g. "America/Indiana/Indianapolis" → check "America/Indiana")
    const parts = tz.split('/');
    if (parts.length > 2) {
      const partial = parts[0] + '/' + parts[1];
      if (tzToCountry[partial]) return tzToCountry[partial];
    }

    return null;
  } catch (e) {
    return null;
  }
}

// Browser language → country (least reliable, but instant)
function idpDetectViaLanguage() {
  try {
    const lang = navigator.language || navigator.userLanguage || '';
    // Format: "en-US", "fr-FR", "de-DE", "pt-BR" etc.
    const parts = lang.split('-');
    if (parts.length >= 2) {
      const region = parts[parts.length - 1].toUpperCase();
      if (region.length === 2 && idpCountries[region]) return region;
    }
    // Language-only fallback mapping
    const langOnly = {
      'en': 'US', 'fr': 'FR', 'de': 'DE', 'es': 'ES', 'it': 'IT',
      'pt': 'PT', 'ja': 'JP', 'ko': 'KR', 'zh': 'CN', 'ru': 'RU',
      'ar': 'SA', 'hi': 'IN', 'tr': 'TR', 'nl': 'NL', 'pl': 'PL',
      'sv': 'SE', 'da': 'DK', 'no': 'NO', 'fi': 'FI', 'el': 'GR',
      'cs': 'CZ', 'hu': 'HU', 'ro': 'RO', 'bg': 'BG', 'uk': 'UA',
      'th': 'TH', 'vi': 'VN', 'id': 'ID', 'ms': 'MY', 'tl': 'PH',
      'he': 'IL', 'fa': 'IR', 'bn': 'BD', 'ur': 'PK', 'sw': 'KE',
    };
    if (parts[0] && langOnly[parts[0].toLowerCase()]) {
      return langOnly[parts[0].toLowerCase()];
    }
    return null;
  } catch (e) {
    return null;
  }
}

// Set the source country programmatically (with animation)
function idpSetSourceCountry(code) {
  if (idpSelectedSource) return; // Don't override user selection
  const country = idpCountries[code];
  if (!country) return;

  const input = document.getElementById('idpSourceInput');
  const flag = document.getElementById('idpSourceFlag');

  idpSelectedSource = country;
  input.value = country.name;
  flag.src = idpFlagUrl(country.code);
  flag.style.display = 'inline-block';
  flag.onerror = function() { this.style.display = 'none'; };

  // Show auto-detected badge
  const badge = document.getElementById('idpAutoBadge');
  if (badge) badge.classList.add('visible');

  // Subtle highlight to show auto-detection happened
  const trigger = input.closest('.idp-dropdown-trigger');
  trigger.style.transition = 'border-color 0.3s, box-shadow 0.3s';
  trigger.style.borderColor = '#2B30A3';
  trigger.style.boxShadow = '0 0 0 3px rgba(43,48,163,0.1)';
  setTimeout(() => {
    trigger.style.borderColor = '#d1d5db';
    trigger.style.boxShadow = 'none';
  }, 1500);
}

// Run auto-detection on page load
idpAutoDetectCountry();
</script>

</body>
</html>
